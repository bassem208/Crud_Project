<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
      
		<h:head>
		<title><ui:insert name="pageTitle">Page Title</ui:insert></title>
		<h:outputStylesheet library="css"  name="style.css" />
		</h:head>

<body>
	<h:form id="changeForm">
		<h1>Change your password</h1>
		<h:panelGrid columns="2">
		<h:outputLabel value="Username :" />
		<h:inputText value="#{user.login}" />
		<h:outputLabel value="Anciant  password   :" />
		<h:inputSecret id="password" value="#{user.password}" />
		</h:panelGrid>
			<h:message for="password"/>
		<h:panelGrid columns="2">
		<h:outputLabel value="New password :" />
		<h:inputSecret id="newPassword" value="#{user.newPass}" />
		
		<h:outputLabel value="Confirm password :" />
		<h:inputSecret id="confirmPassword" value="#{user.confirmPass}" >
			<f:ajax execute="newPassword" event="blur" listener="#{formController.confirmPass()}" render="m_password"></f:ajax>
		</h:inputSecret>
		</h:panelGrid>
		<h:message id="m_password" for="confirmPassword"/>
		
		<br />
		<h:commandButton action="#{formController.changePass()}" value="Change password" styleClass="button-connect"/>
		<h:commandButton action="#{formController.backView()}" value="Cancel" styleClass="button-change" />
	</h:form>

</body>
		
</html>